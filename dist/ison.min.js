/*!
 * ISON v0.0.10
 * (c) 2018 Rich Infante
 * Released under the MIT License.
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function _toConsumableArray(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)}!function(){var g={Date:Date,Object:Object,Array:Array,Number:Number},h={Int:parseInt,Float:parseFloat,Boolean:function(n){function r(r){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}(function(r){return new Boolean("true"==r.toLowerCase())})};"undefined"!=typeof Map&&(g.Map=Map),"undefined"!=typeof Set&&(g.Set=Set),"undefined"!=typeof RegExp&&(g.RegExp=RegExp),"undefined"!=typeof Buffer&&("function"==typeof Buffer.from?h.Buffer=Buffer.from:g.Buffer=Buffer);var A=",",S=/[:=]/,x=/[ \n\t]/,w=/["']/,n=/[a-z0-9_]/i,N=/[a-z_]/i,B=/[+0-9\-]/,e=/[0-9xbo\.+\-a-f]/i;function t(r){return/^[a-zA-Z_][_a-zA-Z0-9]*$/.test(r)?r:o(r)}function o(r){if(r instanceof Date)return"Date("+r.getTime()+")";if("string"==typeof r||r instanceof String)return'"'+r.replace(/"/g,'\\"')+'"';if(r instanceof Array)return"["+r.map(o).join(",")+"]";if("Set"==r.constructor.name)return"Set("+o(Array.from(r))+")";if("Map"==r.constructor.name)return"Map("+o(Array.from(r.entries()))+")";if("undefined"!=typeof Buffer&&r instanceof Buffer)return"Buffer(["+[].concat(_toConsumableArray(r))+"])";if(r instanceof RegExp)return"RegExp("+o(r.source)+", "+o(r.flags)+")";if("boolean"==typeof r)return""+r;if(r instanceof Object){var n=r.$type||r.constructor.name;return delete r.$type,"Object"==n?"{"+Object.entries(r).map(function(r){return t(r[0])+":"+o(r[1])}).join(",")+"}":n+"({"+Object.entries(r).map(function(r){return t(r[0])+":"+o(r[1])}).join(",")+"})"}if(isNaN(r))return"NaN";if("number"==typeof r)return""+r;throw void 0===r||_typeof(r),new Error("Stringify Error!")}var r={parse:function(f){var i=0;function u(){b(x);var r="";if(l(N))for(;l(n);)r+=y(),t();else v(y(),N);return r}function a(){b(x);var r="";if(l(B))for(;l(e);)r+=y(),t();else v(y(),B);return 0==r.indexOf("0x")?parseInt(r.substr(2),16):0==r.indexOf("0b")?parseInt(r.substr(2),2):0==r.indexOf("0o")?parseInt(r.substr(2),8):parseFloat(r)}function c(){l(w)||m("Invalid String start token");var r=y();b(w,!0,1);var n="";for(r.charCodeAt(0);;){if(y(),y().charCodeAt(0),l("\\"))n+=t(),y();else{if(l(r))break;n+=y(),y()}t()}return b(w,!0,1),n}function p(){b("(",!0,1),b(x);for(var r=[];!l(")");){b(x);var n=s();if(r.push(n),b(x),l(A))b(A,!0,1);else{if(l(")"))break;v(y(),'," or ")')}}return b(x),b(")",!0,1),r}function s(){if(b(x),l("{"))return function(){b("{",!0,1),b(x);for(var r={};!l("}");){var n=null;b(x),n=l(w)?c():l(B)?a():u(),b(x),b(S,!0,1),b(x);var e=s();if(r[n]=e,b(x),l(A))b(A,!0,1);else{if(l("}"))break;v(y(),'," or "}')}}return b("}",!0,1),r}();if(l("["))return function(){b("[",!0,1),b(x);for(var r=[];!l("]");){b(x);var n=s();if(r.push(n),b(x),l(A))b(A,!0,1);else{if(l("]"))break;v(y(),'," or "]')}}return b(x),b("]",!0,1),r}();if(l("("))return p();if(l(B))return a();if(l(w))return c();if(l(N)){var r=u();if(l("(")){var n=p();return o=n,g[t=r]?new(Function.prototype.bind.apply(g[t],[null].concat(_toConsumableArray(o)))):h[t]?h[t].apply(h,_toConsumableArray(o)):1==o.length?o[0]:o}return"null"==(e=r)?null:"Infinity"==e?1/0:"NaN"==e?NaN:"true"==e||"false"!=e&&void m('Unknown Identifier: "'+e+'"')}var e,t,o;v(y())}function l(r){return r instanceof RegExp?r.test(y()):y()==r}function y(){return f[i]}function t(){return(i+=1)>f.length&&m("Unexpected EOF!"),y()}function o(){return f[i+1]}function d(r){for(;!l(r);)t(),y()}function b(r){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1/0;for(n&&!l(r)&&v(y(),r);l(r)&&0<e;)i+=1,e-=1;if(r==x){if(y()+o()=="//"&&d("\n"),y()+o()=="/*"){for(;d("*"),y()+o()!="*/";)t();t(),t()}l(x)&&b(x)}}function v(r,n){m('Unexpected Token. found: "'+r+'" ('+r.charCodeAt(0)+'), expected: "'+n+'"')}function m(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Unknown Error",n=i,e=n-10;e<0&&(e=0);var t=n+10;t>=f.length&&(t=f.length-1);var o=n-e;throw new Error("Could not parse input.\n"+f.substring(e,t).replace(/\n/g," ")+"\n"+"^".padStart(o+1)+"\n"+r+"\nat input: "+i)}return(this.parseNext=s)()},stringify:o};"undefined"!=typeof module?module.exports=r:"undefined"!=typeof window&&(window.ISON=r)}();
//# sourceMappingURL=ison.js.map

/*!
 * ISON v0.0.20
 * (c) 2018 Rich Infante
 * Released under the MIT License.
 */
"use strict";var _u = "undefined";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_s=function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,n){var e=[],t=!0,o=!1,f=void 0;try{for(var i,u=r[Symbol.iterator]();!(t=(i=u.next()).done)&&(e.push(i.value),!n||e.length!==n);t=!0);}catch(r){o=!0,f=r}finally{try{!t&&u.return&&u.return()}finally{if(o)throw f}}return e}(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _c(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)}!function(){var g=",",h=/[:=]/,A=/[ \n\t]/,w=/["']/,n=/[\$@~a-z0-9_\.]/i,S=/[\$@~a-z_]/i,x=/[+0-9\-]/,N=/[0-9xbo\.+\-a-f]/i,O=/[%Î¼a-z/0-9_\^]/i,_={Date:Date,Object:Object,Array:Array,Number:Number},j={Int:parseInt,Float:parseFloat,Boolean:function(n){function r(r){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}(function(r){return new Boolean("true"==r.toLowerCase())})};function r(r){for(var n in r)j[n]=r[n]}function s(r){return/^[a-zA-Z_][_a-zA-Z0-9]*$/.test(r)?r:p(r)}function p(r){if(r instanceof Number&&r.units)return r+" "+r.units;if(null==r)return"null";if(r instanceof Date)return"Date("+r.getTime()+")";if("string"==typeof r||r instanceof String)return'"'+r.replace(/"/g,'\\"')+'"';if(r instanceof Array)return"["+r.map(p).join(",")+"]";if("Set"==r.constructor.name)return"Set("+p(Array.from(r))+")";if("Map"==r.constructor.name)return"Map("+p(Array.from(r.entries()))+")";if(_u!=typeof Buffer&&r instanceof Buffer)return"Buffer(["+[].concat(_c(r))+"])";if(r instanceof RegExp)return"RegExp("+p(r.source)+", "+p(r.flags)+")";if("boolean"==typeof r)return""+r;if(r instanceof Object){var n=r.className||r.$type||r.constructor.name;if(delete r.$type,"Object"==n)return"{"+Object.entries(r).map(function(r){return s(r[0])+":"+p(r[1])}).join(",")+"}";if("function"==typeof r.destructor){var e=r.destructor();return e instanceof Array?n+"("+e.map(p).join(",")+")":n+"("+p(e)+")"}return n+"({"+Object.entries(r).map(function(r){return s(r[0])+":"+p(r[1])}).join(",")+"})"}if(isNaN(r))return"NaN";if("number"==typeof r)return""+r;var t=!0,o=!1,f=void 0;try{for(var i,u=Object.entries(j)[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var a=i.value,c=_s(a,2),l=c[0];if(c[1]===r)return l}}catch(r){o=!0,f=r}finally{try{!t&&u.return&&u.return()}finally{if(o)throw f}}throw console.log(r,void 0===r?_u:_typeof(r)),new Error("Stringify Error!")}_u!=typeof Map&&(_.Map=Map),_u!=typeof Set&&(_.Set=Set),_u!=typeof RegExp&&(_.RegExp=RegExp),_u!=typeof Buffer&&("function"==typeof Buffer.from?j.Buffer=Buffer.from:_.Buffer=Buffer),r({null:null,Infinity:1/0,true:!0,false:!1,NaN:NaN});var e={parse:function(f){var i=0;function o(){v(A);var r="";if(s(S))for(;s(n);)r+=p(),t(!1);else b(p(),S);return r}function u(){v(A);var r="";if(s(x)){for(;s(N);)r+=p(),t();if("-"==r||"+"==r&&s(S))return("-"==r?-1:1)*o()}else b(p(),x);if(0==r.indexOf("0x"))return parseInt(r.substr(2),16);if(0==r.indexOf("0b"))return parseInt(r.substr(2),2);if(0==r.indexOf("0o"))return parseInt(r.substr(2),8);if(v(A),s(O)){var n=function(){for(var r="";s(O);)r+=p(),t();return r}(),e=new Number(parseFloat(r));return e.units=n,e}return parseFloat(r)}function a(){s(w)||b(p(),w);var r=p();v(w,!0,1);for(var n="";;){if(s("\\")){var e=t();n+="n"==e?"\n":e}else{if(s(r))break;n+=p()}t()}return v(w,!0,1),n}function c(){v("(",!0,1),v(A);for(var r=[];!s(")");){v(A);var n=l();if(r.push(n),v(A),s(g))v(g,!0,1);else{if(s(")"))break;b(p(),'," or ")')}}return v(A),v(")",!0,1),r}function l(){if(v(A),s("{"))return function(){v("{",!0,1),v(A);for(var r={};!s("}");){var n=null;v(A),n=s(w)?a():s(x)?u():o(),v(A),v(h,!0,1),v(A);var e=l();if(r[n]=e,v(A),s(g))v(g,!0,1);else{if(s("}"))break;b(p(),'," or "}')}}return v("}",!0,1),r}();if(s("["))return function(){v("[",!0,1),v(A);for(var r=[];!s("]");){v(A);var n=l();if(r.push(n),v(A),s(g))v(g,!0,1);else{if(s("]"))break;b(p(),'," or "]')}}return v(A),v("]",!0,1),r}();if(s("("))return c();if(s(x))return u();if(s(w))return a();if(s(S)){var r=o();if(s("(")){var n=c();return t=n,_[e=r]?new(Function.prototype.bind.apply(_[e],[null].concat(_c(t)))):j[e]&&"function"==typeof j[e]?j[e].apply(j,_c(t)):void m('Unknown type name: "'+e+'".')}return function(r){if(void 0!==j[r])return j[r];m('Unknown Identifier: "'+r+'"')}(r)}var e,t;b(p())}function s(r){return null!=p()&&(r instanceof RegExp?r.test(p()):p()==r)}function p(){return f[i]}function t(){var r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return i+=1,r&&i>f.length&&m("Unexpected EOF!"),p()}function y(){return f[i+1]}function d(r){for(;!s(r)&&null!=p();)t()}function v(r){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1/0;for(n&&!s(r)&&b(p(),r);s(r)&&0<e;)i+=1,e-=1;if(r==A){if(p()+y()=="//"&&d("\n"),p()+y()=="/*"){for(;null!=p&&(d("*"),p()+y()!="*/");)t();t(),t()}s(A)&&v(A)}}function b(r,n){m('Unexpected Token. found: "'+r+'" ('+r.charCodeAt(0)+'), expected: "'+n+'"')}function m(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Unknown Error",n=i,e=n-10;e<0&&(e=0);var t=n+10;t>=f.length&&(t=f.length-1);var o=n-e;throw new Error("Could not parse input.\n"+f.substring(e,t).replace(/\n/g," ")+"\n"+"^".padStart(o+1)+"\n"+r+"\nat input: "+i)}return(this.parseNext=l)()},stringify:p,addTypes:function(r){for(var n in r)_[n]=r[n]},removeTypes:function(r){for(var n in r)_[n]===r[n]&&delete _[n]},addConstants:r,removeConstants:function(r){for(var n in r)j[n]===r[n]&&delete j[n]}};_u!=typeof module?module.exports=e:_u!=typeof window&&(window.ISON=e)}();
//# sourceMappingURL=ison.js.map
